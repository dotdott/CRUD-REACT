(this["webpackJsonpcrud-app"]=this["webpackJsonpcrud-app"]||[]).push([[0],{38:function(e,t,n){},39:function(e,t,n){"use strict";n.r(t);var a=n(1),c=n.n(a),s=n(14),r=n.n(s),i=n(3),o=n(4),u=n.n(o),j=n(0),l=function(e){var t=e.overlay,n=e.setOverlay,c=e.updateData,s=Object(a.useState)(""),r=Object(i.a)(s,2),o=r[0],u=r[1],l=Object(a.useState)(""),d=Object(i.a)(l,2),b=d[0],p=d[1];return Object(j.jsx)(j.Fragment,{children:Object(j.jsx)("div",{className:t?"overlay active":"overlay",children:Object(j.jsxs)("div",{className:"edit-overlay",children:[Object(j.jsx)("input",{type:"text",name:"new-name",placeholder:"Enter the new name",onChange:function(e){u(e.target.value)}}),Object(j.jsx)("input",{type:"tel",name:"new-phone",placeholder:"Enter the new number",onChange:function(e){p(e.target.value)}}),Object(j.jsxs)("div",{className:"overlay-buttons",children:[Object(j.jsx)("button",{type:"submit",id:"save-edit",onClick:function(){c(o,b),n(!1)},children:"Save"}),Object(j.jsx)("button",{type:"submit",id:"cancel-edit",onClick:function(){n(!1)},children:"Cancel"})]})]})})})},d=function(e){var t=e.name,n=e.phone,c=e.id,s="https://crud-mysql-heroku.herokuapp.com",r=Object(a.useState)(!1),o=Object(i.a)(r,2),d=o[0],b=o[1],p=Object(a.useState)(!1),h=Object(i.a)(p,2),O=h[0],m=h[1];return Object(j.jsxs)(j.Fragment,{children:[Object(j.jsxs)("li",{children:[Object(j.jsx)("p",{children:t}),Object(j.jsx)("small",{children:n}),Object(j.jsx)("a",{children:Object(j.jsx)("i",{className:"fas fa-edit",onClick:function(){return b(!0)}})}),Object(j.jsx)("a",{children:Object(j.jsx)("i",{className:"fas fa-trash-alt",onClick:function(){return function(e){u.a.delete(s+"/crud/delete/".concat(e))}(c)}})})]}),Object(j.jsx)(l,{setOverlay:b,overlay:d,updateData:function(e,t){u.a.put(s+"/crud/update",{name:e,note:t,id:c})},isUpdated:O,setIsUpdated:m})]})},b=function(e){var t=e.dataList,n=Object(a.useState)(""),c=Object(i.a)(n,2),s=c[0],r=c[1],o=t.filter((function(e){if((e.props.name.toUpperCase()||e.props.phone.toUpperCase()).includes(s))return e}));return Object(j.jsxs)("div",{className:"users-datas",children:[Object(j.jsx)("input",{type:"text",id:"search-name",name:"search-name",placeholder:"Buscar",onChange:function(e){r(e.target.value.toUpperCase())}}),o||t]})},p=function(e){var t=e.newName,n="https://crud-mysql-heroku.herokuapp.com",c=Object(a.useState)(""),s=Object(i.a)(c,2),r=s[0],o=s[1],l=Object(a.useState)(""),p=Object(i.a)(l,2),h=p[0],O=p[1],m=Object(a.useState)([]),f=Object(i.a)(m,2),x=f[0],v=f[1],y=Object(a.useState)(!1),g=Object(i.a)(y,2),C=g[0],N=g[1];function S(e,t,a){""!==e&&""!==t?(u.a.post(n+"/crud/post",{name:e,note:t}),document.getElementById("form").reset(),O(""),o(""),N(!1)):N(!0)}Object(a.useEffect)((function(){u.a.get(n+"/crud/get").then((function(e){v(e.data)}))}),[S]);var k=x.map((function(e){return Object(j.jsx)(d,{id:e.id,name:e.name,phone:e.note,setDatas:v,Datas:x},e.id)}));return Object(j.jsxs)("div",{className:"form",children:[Object(j.jsxs)("form",{onSubmit:t,id:"form",children:[Object(j.jsx)("h1",{children:"CRUD"}),Object(j.jsxs)("label",{htmlFor:"username",children:["Name",Object(j.jsx)("input",{type:"text",name:"name",id:"username",placeholder:"Ex: Gabriel Jodas",onChange:function(e){o(e.target.value)}})]}),Object(j.jsx)("input",{type:"tel",name:"cellphone",id:"userphone",placeholder:"Note",pattern:"[0-9]*$",onChange:function(e){O(e.target.value)}}),C&&Object(j.jsx)("span",{className:"error",children:"You need to fill both fields!"}),Object(j.jsx)("button",{id:"submitBtn",type:"submit",onClick:function(){return S(r,h)},children:"Confirm"})]}),Object(j.jsx)(b,{Datas:x,dataList:k})]})};n(38);var h=function(){return Object(j.jsxs)("div",{className:"container",children:[Object(j.jsx)(p,{newName:function(e){e.preventDefault()}}),Object(j.jsx)(l,{})]})};r.a.render(Object(j.jsx)(c.a.StrictMode,{children:Object(j.jsx)(h,{})}),document.getElementById("root"))}},[[39,1,2]]]);
//# sourceMappingURL=main.eb25d580.chunk.js.map